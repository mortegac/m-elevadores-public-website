"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[346],{4917:function(e,t,n){var r=n(855);function i(e){if(!Object.prototype.hasOwnProperty.call(s.message,e))throw new Error("invalid status code: "+e);return s.message[e]}function s(e){if("number"===typeof e)return i(e);if("string"!==typeof e)throw new TypeError("code must be a number or string");var t=parseInt(e,10);return isNaN(t)?function(e){var t=e.toLowerCase();if(!Object.prototype.hasOwnProperty.call(s.code,t))throw new Error('invalid status message: "'+e+'"');return s.code[t]}(e):i(t)}e.exports=s,s.message=r,s.code=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n],i=Number(n);t[r.toLowerCase()]=i})),t}(r),s.codes=function(e){return Object.keys(e).map((function(e){return Number(e)}))}(r),s.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},s.empty={204:!0,205:!0,304:!0},s.retry={502:!0,503:!0,504:!0}},3346:function(e,t,n){n.d(t,{i:function(){return Xe}});var r=n(7294),i=n(4917);let s=0;const a=(e,t,n=200)=>{var r,s;if(n>=400)throw new TypeError(`Invalid success status code, expected status to be within \`[100;400[\`, got \`${n}\``);return{requestID:e,status:n,msg:null!=(s=null==(r=i.message[n])?void 0:r.replace(/\.$/,"").toLowerCase())?s:"",data:t}},o=(e,t,n=400)=>{var r,s;if(n<400)throw new TypeError(`Invalid error status code, expected status to be within \`[500;600[\`, got \`${n}\``);return{requestID:e,status:n,msg:null!=(s=null==(r=i.message[n])?void 0:r.replace(/\.$/,"").toLowerCase())?s:"",error:t}},c=e=>{if("object"!==typeof e||null===e)throw new TypeError(`Invalid message received, expected message to be of type \`object\`, got \`${typeof e}\``);if(!Object.keys(e).every((e=>["requestID","type","data","status","msg","error"].includes(e))))throw new TypeError(`Invalid message received: ${JSON.stringify(e)}`);if("string"!==typeof e.requestID)throw new TypeError(`Invalid message received, expected \`message.requestID\` to be of type \`string\`, got \`${typeof e.id}\``);return e},u=e=>"type"in e,l=e=>!("type"in e);class d extends Error{constructor(e){super(e.msg),this.response=e}}Error;class f extends Error{constructor(e){super("Too many concurrent requests"),this.request=e}}class h extends Error{constructor(e){super(`Request \`${e.requestID}\` timed out`),this.request=e}}class p extends Error{}class _ extends Error{constructor(){super("Port is not set")}}Error;const g={debug:!1,maximumRequestConcurrency:20,defaultTimeout:5e3,requestIDPrefix:"channel-"};class v{constructor(e,t){this._port=null,this._pendingRequests=new Map,this.requestHandlers=e,this.options={...g,...t}}get port(){if(!this._port)throw new _;return this._port}set port(e){this._port&&(this._port.onmessage=null),this._port=e,this._port&&(this._port.onmessage=this.onMessage.bind(this))}createRequestMessage(e,t){return((e,t,n="")=>({requestID:`${n}${s++}`,type:e,data:t}))(e,t,this.options.requestIDPrefix)}async onMessage(e){this.options.debug&&console.debug(e.data);try{const n=c(e.data);if(u(n))if(this.requestHandlers[n.type])try{const e=await this.requestHandlers[n.type](n,{success:a.bind(this,n.requestID),error:o.bind(this,n.requestID)});this.postResponse(e)}catch(t){this.postResponse(o(n.requestID,t,500))}else this.postResponse(o(n.requestID,void 0,501));else this._pendingRequests.has(n.requestID)?(this._pendingRequests.get(n.requestID)(n),this._pendingRequests.delete(n.requestID)):console.error(`Unknown request ID received in response: ${JSON.stringify(n)}`)}catch(t){if(!(t instanceof TypeError))throw t;console.warn(t.message)}}postRequest(e,t=(e=>this.port.postMessage(e)),n={}){if(this.options.debug&&console.debug(e),this._pendingRequests.size>=this.options.maximumRequestConcurrency)throw new f(e);return new Promise(((r,i)=>{const s=setTimeout((()=>{this._pendingRequests.has(e.requestID)&&this._pendingRequests.delete(e.requestID),i(new h(e))}),n.timeout||this.options.defaultTimeout);this._pendingRequests.set(e.requestID,(e=>{var t;clearTimeout(s),l(t=e)&&!("error"in t)?r(e):i(new d(e))})),t(e)}))}postResponse(e,t=(e=>this.port.postMessage(e))){return this.options.debug&&console.debug(e),t(e),e}}var y=(e=>(e.Connect="connect",e))(y||{}),m=(e=>(e.Ready="ready",e))(m||{});const w={readyTimeout:2e4,requestIDPrefix:"receiver-"};class S extends v{constructor(e,t){super(e,{...w,...t}),this._ready=!1,window.addEventListener("message",(e=>{this._onPublicMessage(e)}))}async ready(){if(window.parent===window)throw new Error("Receiver is currently not embedded as an iframe");this._ready=!1;const e=this.createRequestMessage(m.Ready,void 0),t=await this.postRequest(e,(e=>{window.parent.postMessage(e,"*")}),{timeout:this.options.readyTimeout});return this._ready=!0,t}_onPublicMessage(e){try{const t=c(e.data);if(u(t))if(this.options.debug&&console.debug(e.data),t.type===y.Connect){this.port=e.ports[0];const{data:n}=t;this.options={...this.options,...n,debug:this.options.debug,requestIDPrefix:this.options.requestIDPrefix,readyTimeout:this.options.readyTimeout};const r=a(t.requestID,void 0);this.postResponse(r)}else this.postResponse(o(t.requestID,void 0),(t=>{e.source.postMessage(t,e.origin)}));else this._ready||this.onMessage(e)}catch(t){if(!(t instanceof TypeError))throw t}}postFormattedRequest(e,t,n={}){if(!this._ready)throw new p("Receiver is not ready, use `ChannelReceiver.ready()` first");return this.postRequest(this.createRequestMessage(e,t),void 0,n)}}var b=(e=>(e.SetActiveSlice="setActiveSlice",e))(b||{}),I=(e=>(e.Ping="ping",e.GetLibraries="getLibraries",e.SetSliceZone="setSliceZone",e.SetSliceZoneFromSliceIDs="setSliceZoneFromSliceIDs",e.ScrollToSlice="scrollToSlice",e))(I||{});var T;I.Ping,I.GetLibraries,I.SetSliceZone,I.SetSliceZoneFromSliceIDs,I.ScrollToSlice;const q={requestIDPrefix:"api-",activeSliceAPI:!1};class M extends S{constructor(e,t){var n,r;const i=(null==t?void 0:t.debug)||/[\?&]debug=true/i.test(decodeURIComponent(window.location.search));super({[I.Ping]:(e,t)=>t.success("pong"),...e},{...q,...t,debug:i}),this[T]=async e=>await this.postFormattedRequest(b.SetActiveSlice,e),i&&(window.prismic||(window.prismic={}),(n=window.prismic).sliceSimulator||(n.sliceSimulator={}),(r=window.prismic.sliceSimulator).api||(r.api=[]),window.prismic.sliceSimulator.api.push(this))}}function D(e){return function(t,n){return e.chain(t,(function(t){return e.map(n(t),(function(){return t}))}))}}T=b.SetActiveSlice;var R=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function A(e,t,n,r,i,s,a,o,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return i(r(n(t(e))));case 6:return s(i(r(n(t(e)))));case 7:return a(s(i(r(n(t(e))))));case 8:return o(a(s(i(r(n(t(e)))))));case 9:return c(o(a(s(i(r(n(t(e))))))));default:for(var u=arguments[0],l=1;l<arguments.length;l++)u=arguments[l](u);return u}}var P=function(e,t){var n="number"===typeof e?function(t){return t.length>=e}:e;return function(){var e=Array.from(arguments);return n(arguments)?t.apply(this,e):function(n){return t.apply(void 0,R([n],e,!1))}}};function x(e){return function(t,n){return e.map(t,(function(){return n}))}}var E=function(e){return{_tag:"Left",left:e}},L=function(e){return{_tag:"Right",right:e}},O=(Object.prototype.hasOwnProperty,E),k=L,j=P(2,(function(e,t){return B(e)?e:t(e.right)})),N=function(e,t){return A(e,Z(t))},C=function(e,t){return A(e,U(t))},F="Either",Z=function(e){return function(t){return B(t)?t:k(e(t.right))}},$={URI:F,map:N},U=(P(2,x($)),function(e){var t=x(e)}($),function(e){return function(t){return B(t)?t:B(e)?e:k(t.right(e.right))}}),z={URI:F,map:N,ap:C,chain:j},B=function(e){return"Left"===e._tag};D(z);var H=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),G=function(){return G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},G.apply(this,arguments)},K=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},V=O,J=function(e,t,n){return V([{value:e,context:t,message:n}])},Y=k,X=function(){function e(e,t,n,r){this.name=e,this.is=t,this.validate=n,this.encode=r,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(t,n){var r=this;return void 0===n&&(n="pipe(".concat(this.name,", ").concat(t.name,")")),new e(n,t.is,(function(e,n){var i=r.validate(e,n);return B(i)?i:t.validate(i.right,n)}),this.encode===Q&&t.encode===Q?Q:function(e){return r.encode(t.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}(),Q=function(e){return e};function W(e,t,n,r){for(var i=e.length,s=Array(i+1),a=0;a<i;a++)s[a]=e[a];return s[i]={key:t,type:n,actual:r},s}function ee(e,t){for(var n=t.length,r=0;r<n;r++)e.push(t[r])}var te=Object.prototype.hasOwnProperty;function ne(e){return Object.keys(e).map((function(t){return"".concat(t,": ").concat(e[t].name)})).join(", ")}function re(e){for(var t=0;t<e.length;t++)if(e[t].encode!==Q)return!1;return!0}function ie(e){return"{ ".concat(ne(e)," }")}function se(e){return"Partial<".concat(e,">")}function ae(e){var t;if(fe(e)){var n=e.value;if(ge.is(n))return(t={})[n]=null,t}else{if("KeyofType"===e._tag)return e.keys;if(pe(e)){var r=e.types.map((function(e){return ae(e)}));return r.some(_e.is)?void 0:Object.assign.apply(Object,K([{}],r,!1))}}}function oe(e,t){for(var n=Object.keys(e),r=n.length,i=!1,s={},a=0;a<r;a++){var o=n[a];t.is(o)?s[o]=e[o]:i=!0}return i?s:e}function ce(e,t){for(var n=!0,r=!0,i=!me.is(e),s=0,a=t;s<a.length;s++){(l=a[s])!==e&&(n=!1),me.is(l)&&(r=!1)}if(n)return e;if(r)return t[t.length-1];for(var o={},c=0,u=t;c<u.length;c++){var l=u[c];for(var d in l)te.call(o,d)&&!i&&l[d]===e[d]||(o[d]=l[d])}return o}function ue(e){switch(e._tag){case"RefinementType":case"ReadonlyType":return ue(e.type);case"InterfaceType":case"StrictType":case"PartialType":return e.props;case"IntersectionType":return e.types.reduce((function(e,t){return Object.assign(e,ue(t))}),{})}}function le(e,t){for(var n=Object.getOwnPropertyNames(e),r=!1,i={},s=0;s<n.length;s++){var a=n[s];te.call(t,a)?i[a]=e[a]:r=!0}return r?i:e}function de(e){return"AnyType"===e._tag}function fe(e){return"LiteralType"===e._tag}function he(e){return"InterfaceType"===e._tag}function pe(e){return"UnionType"===e._tag}new(function(e){function t(){var t=e.call(this,"null",(function(e){return null===e}),(function(e,n){return t.is(e)?Y(e):J(e,n)}),Q)||this;return t._tag="NullType",t}return H(t,e),t}(X));var _e=new(function(e){function t(){var t=e.call(this,"undefined",(function(e){return void 0===e}),(function(e,n){return t.is(e)?Y(e):J(e,n)}),Q)||this;return t._tag="UndefinedType",t}return H(t,e),t}(X)),ge=(new(function(e){function t(){var t=e.call(this,"void",_e.is,_e.validate,Q)||this;return t._tag="VoidType",t}return H(t,e),t}(X)),new(function(e){function t(){var t=e.call(this,"unknown",(function(e){return!0}),Y,Q)||this;return t._tag="UnknownType",t}return H(t,e),t}(X)),new(function(e){function t(){var t=e.call(this,"string",(function(e){return"string"===typeof e}),(function(e,n){return t.is(e)?Y(e):J(e,n)}),Q)||this;return t._tag="StringType",t}return H(t,e),t}(X))),ve=new(function(e){function t(){var t=e.call(this,"number",(function(e){return"number"===typeof e}),(function(e,n){return t.is(e)?Y(e):J(e,n)}),Q)||this;return t._tag="NumberType",t}return H(t,e),t}(X)),ye=(new(function(e){function t(){var t=e.call(this,"bigint",(function(e){return"bigint"===typeof e}),(function(e,n){return t.is(e)?Y(e):J(e,n)}),Q)||this;return t._tag="BigIntType",t}return H(t,e),t}(X)),new(function(e){function t(){var t=e.call(this,"boolean",(function(e){return"boolean"===typeof e}),(function(e,n){return t.is(e)?Y(e):J(e,n)}),Q)||this;return t._tag="BooleanType",t}return H(t,e),t}(X)),new(function(e){function t(){var t=e.call(this,"UnknownArray",Array.isArray,(function(e,n){return t.is(e)?Y(e):J(e,n)}),Q)||this;return t._tag="AnyArrayType",t}return H(t,e),t}(X))),me=new(function(e){function t(){var t=e.call(this,"UnknownRecord",(function(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)}),(function(e,n){return t.is(e)?Y(e):J(e,n)}),Q)||this;return t._tag="AnyDictionaryType",t}return H(t,e),t}(X));!function(e){function t(t,n,r,i,s){var a=e.call(this,t,n,r,i)||this;return a.value=s,a._tag="LiteralType",a}H(t,e)}(X);!function(e){function t(t,n,r,i,s){var a=e.call(this,t,n,r,i)||this;return a.keys=s,a._tag="KeyofType",a}H(t,e)}(X);var we=function(e){function t(t,n,r,i,s,a){var o=e.call(this,t,n,r,i)||this;return o.type=s,o.predicate=a,o._tag="RefinementType",o}return H(t,e),t}(X);ke(ve,(function(e){return Number.isInteger(e)}),"Int");var Se=function(e){function t(t,n,r,i,s){var a=e.call(this,t,n,r,i)||this;return a.runDefinition=s,a._tag="RecursiveType",a}return H(t,e),t}(X);Object.defineProperty(Se.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var be=function(e){function t(t,n,r,i,s){var a=e.call(this,t,n,r,i)||this;return a.type=s,a._tag="ArrayType",a}return H(t,e),t}(X);function Ie(e,t){return void 0===t&&(t="Array<".concat(e.name,">")),new be(t,(function(t){return ye.is(t)&&t.every(e.is)}),(function(t,n){var r=ye.validate(t,n);if(B(r))return r;for(var i=r.right,s=i.length,a=i,o=[],c=0;c<s;c++){var u=i[c],l=e.validate(u,W(n,String(c),e,u));if(B(l))ee(o,l.left);else{var d=l.right;d!==u&&(a===i&&(a=i.slice()),a[c]=d)}}return o.length>0?V(o):Y(a)}),e.encode===Q?Q:function(t){return t.map(e.encode)},e)}var Te=function(e){function t(t,n,r,i,s){var a=e.call(this,t,n,r,i)||this;return a.props=s,a._tag="InterfaceType",a}return H(t,e),t}(X);function qe(e,t){void 0===t&&(t=ie(e));var n=Object.keys(e),r=n.map((function(t){return e[t]})),i=n.length;return new Te(t,(function(e){if(me.is(e)){for(var t=0;t<i;t++){var s=n[t],a=e[s];if(void 0===a&&!te.call(e,s)||!r[t].is(a))return!1}return!0}return!1}),(function(e,t){var s=me.validate(e,t);if(B(s))return s;for(var a=s.right,o=a,c=[],u=0;u<i;u++){var l=n[u],d=o[l],f=r[u],h=f.validate(d,W(t,l,f,d));if(B(h))ee(c,h.left);else{var p=h.right;(p!==d||void 0===p&&!te.call(o,l))&&(o===a&&(o=G({},a)),o[l]=p)}}return c.length>0?V(c):Y(o)}),re(r)?Q:function(e){for(var t=G({},e),s=0;s<i;s++){var a=n[s],o=r[s].encode;o!==Q&&(t[a]=o(e[a]))}return t},e)}var Me=function(e){function t(t,n,r,i,s){var a=e.call(this,t,n,r,i)||this;return a.props=s,a._tag="PartialType",a}return H(t,e),t}(X);function De(e,t){void 0===t&&(t=se(ie(e)));var n=Object.keys(e),r=n.map((function(t){return e[t]})),i=n.length;return new Me(t,(function(t){if(me.is(t)){for(var r=0;r<i;r++){var s=n[r],a=t[s];if(void 0!==a&&!e[s].is(a))return!1}return!0}return!1}),(function(t,r){var s=me.validate(t,r);if(B(s))return s;for(var a=s.right,o=a,c=[],u=0;u<i;u++){var l=n[u],d=o[l],f=e[l],h=f.validate(d,W(r,l,f,d));if(B(h))void 0!==d&&ee(c,h.left);else{var p=h.right;p!==d&&(o===a&&(o=G({},a)),o[l]=p)}}return c.length>0?V(c):Y(o)}),re(r)?Q:function(e){for(var t=G({},e),s=0;s<i;s++){var a=n[s],o=e[a];void 0!==o&&(t[a]=r[s].encode(o))}return t},e)}var Re=function(e){function t(t,n,r,i,s,a){var o=e.call(this,t,n,r,i)||this;return o.domain=s,o.codomain=a,o._tag="DictionaryType",o}return H(t,e),t}(X);function Ae(e,t,n){var r=ae(e);return r?function(e,t,n,r){void 0===r&&(r="{ [K in ".concat(t.name,"]: ").concat(n.name," }"));for(var i=e.length,s={},a=0;a<i;a++)s[e[a]]=n;var o=Le(s,r);return new Re(r,(function(e){return o.is(e)}),o.validate,o.encode,t,n)}(Object.keys(r),e,t,n):function(e,t,n){return void 0===n&&(n="{ [K in ".concat(e.name,"]: ").concat(t.name," }")),new Re(n,(function(n){return me.is(n)?Object.keys(n).every((function(r){return!e.is(r)||t.is(n[r])})):de(t)&&Array.isArray(n)}),(function(n,r){if(me.is(n)){for(var i={},s=[],a=Object.keys(n),o=a.length,c=!1,u=0;u<o;u++){var l=a[u],d=n[l],f=e.validate(l,W(r,l,e,l));if(B(f))c=!0;else{var h=f.right;c=c||h!==l,l=h;var p=t.validate(d,W(r,l,t,d));if(B(p))ee(s,p.left);else{var _=p.right;c=c||_!==d,i[l]=_}}}return s.length>0?V(s):Y(c?i:n)}return de(t)&&Array.isArray(n)?Y(n):J(n,r)}),e.encode===Q&&t.encode===Q?function(t){return oe(t,e)}:function(n){for(var r={},i=Object.keys(oe(n,e)),s=i.length,a=0;a<s;a++){var o=i[a];r[String(e.encode(o))]=t.encode(n[o])}return r},e,t)}(e,t,n)}var Pe=function(e){function t(t,n,r,i,s){var a=e.call(this,t,n,r,i)||this;return a.types=s,a._tag="UnionType",a}return H(t,e),t}(X);var xe=function(e){function t(t,n,r,i,s){var a=e.call(this,t,n,r,i)||this;return a.types=s,a._tag="IntersectionType",a}return H(t,e),t}(X);function Ee(e,t){void 0===t&&(t="(".concat(e.map((function(e){return e.name})).join(" & "),")"));var n=e.length;return new xe(t,(function(t){return e.every((function(e){return e.is(t)}))}),0===e.length?Y:function(t,r){for(var i=[],s=[],a=0;a<n;a++){var o=e[a],c=o.validate(t,W(r,String(a),o,t));B(c)?ee(s,c.left):i.push(c.right)}return s.length>0?V(s):Y(ce(t,i))},0===e.length?Q:function(t){return ce(t,e.map((function(e){return e.encode(t)})))},e)}!function(e){function t(t,n,r,i,s){var a=e.call(this,t,n,r,i)||this;return a.types=s,a._tag="TupleType",a}H(t,e)}(X);!function(e){function t(t,n,r,i,s){var a=e.call(this,t,n,r,i)||this;return a.type=s,a._tag="ReadonlyType",a}H(t,e)}(X);!function(e){function t(t,n,r,i,s){var a=e.call(this,t,n,r,i)||this;return a.type=s,a._tag="ReadonlyArrayType",a}H(t,e)}(X);var Le=function(e,t){return function(e,t){void 0===t&&(t=function(e){return he(e)?"{| ".concat(ne(e.props)," |}"):function(e){return"PartialType"===e._tag}(e)?se("{| ".concat(ne(e.props)," |}")):"Exact<".concat(e.name,">")}(e));var n=ue(e);return new Oe(t,e.is,(function(t,r){var i=me.validate(t,r);if(B(i))return i;var s=e.validate(t,r);return B(s)?s:k(le(s.right,n))}),(function(t){return e.encode(le(t,n))}),e)}(qe(e),t)},Oe=function(e){function t(t,n,r,i,s){var a=e.call(this,t,n,r,i)||this;return a.type=s,a._tag="ExactType",a}return H(t,e),t}(X);new(function(e){function t(){var t=e.call(this,"Function",(function(e){return"function"===typeof e}),(function(e,n){return t.is(e)?Y(e):J(e,n)}),Q)||this;return t._tag="FunctionType",t}return H(t,e),t}(X)),new(function(e){function t(){var t=e.call(this,"never",(function(e){return!1}),(function(e,t){return J(e,t)}),(function(){throw new Error("cannot encode never")}))||this;return t._tag="NeverType",t}return H(t,e),t}(X)),new(function(e){function t(){var t=e.call(this,"any",(function(e){return!0}),Y,Q)||this;return t._tag="AnyType",t}return H(t,e),t}(X));function ke(e,t,n){return void 0===n&&(n="(".concat(e.name," | ").concat(function(e){return e.displayName||e.name||"<function".concat(e.length,">")}(t),")")),new we(n,(function(n){return e.is(n)&&t(n)}),(function(n,r){var i=e.validate(n,r);if(B(i))return i;var s=i.right;return t(s)?Y(s):J(s,r)}),e.encode,e,t)}ke(ve,Number.isInteger,"Integer"),function(e){function t(t,n,r,i,s,a){var o=e.call(this,t,n,r,i,s)||this;return o.tag=a,o}H(t,e)}(Pe),new(function(e){function t(){var t=e.call(this,"object",(function(e){return null!==e&&"object"===typeof e}),(function(e,n){return t.is(e)?Y(e):J(e,n)}),Q)||this;return t._tag="ObjectType",t}return H(t,e),t}(X)),function(e){function t(t,n,r,i,s){var a=e.call(this,t,n,r,i)||this;return a.props=s,a._tag="StrictType",a}H(t,e)}(X);var je=n(3454);const Ne=Ae(ge,Ee([De({name:ge}),qe({components:Ae(ge,Ee([qe({id:ge,model:Ee([qe({id:ge,variations:Ie(Ee([qe({id:ge}),De({name:ge})]))}),De({name:ge})]),mocks:Ae(ge,qe({variation:ge}))}),De({name:ge})]))})]));var Ce=(e=>(e.ManagedState="managedState",e.Slices="slices",e.ActiveSlice="activeSlice",e.Message="message",e))(Ce||{}),Fe=(e=>(e.Pending="pending",e.Loaded="loaded",e.Error="error",e))(Fe||{});const Ze=()=>({data:null,status:Fe.Pending,error:null}),$e="slice-simulator",Ue="slice-simulator--root",ze=e=>{let t=document.querySelector(`.${$e} [data-slice-zone]`);if(t)return t.children.length!==e&&console.warn(`Flagged SliceZone has an unexpected number of children, found ${t.children.length} but expected ${e}. This might lead to unexpected behaviors. Are you sure you tagged the right element?`),t;if(t=document.querySelector(`.${$e} .slice-simulator--root`),!t)return null;for(let n=0;n<5;n++){if(t.children.length===e)return t;if(!t.children.length)break;t=t.children[0]}return null},Be=(e,t)=>`<a href="${e}" style="text-decoration: underline;">${t||e}<a>`,He=`<div style="word-spacing: initial; white-space: pre; line-height: initial; font-family: monospace; color: #ffffff; mix-blend-mode: difference; padding: 1rem; font-size: 1rem;">${["   _____ ___          _____ _                 __      __            \n  / ___// (_)_______ / ___/(_)___ ___  __  __/ /___ _/ /_____  _____\n  \\__ \\/ / / ___/ _ \\\\__ \\/ / __ `__ \\/ / / / / __ `/ __/ __ \\/ ___/\n ___/ / / / /__/  __/__/ / / / / / / / /_/ / / /_/ / /_/ /_/ / /    \n/____/_/_/\\___/\\___/____/_/_/ /_/ /_/\\__,_/_/\\__,_/\\__/\\____/_/     \n                  / /_  __  __   / __ \\_____(_)________ ___  (_)____\n                 / __ \\/ / / /  / /_/ / ___/ / ___/ __ `__ \\/ / ___/\n                / /_/ / /_/ /  / ____/ /  / (__  ) / / / / / / /__  \n               /_.___/\\__, /  /_/   /_/  /_/____/_/ /_/ /_/_/\\___/  \n                     /____/\n\n",`You're seeing this page because you're accessing Slice Simulator\ndirectly, e.g:\n\n  - ${Be("http://localhost:3000/slice-simulator")}\n\n\n\nSlice Simulator is not meant to be accessed this way, to preview your\nslices, head over to Slice Machine UI:\n\n  - ${Be("http://localhost:9999")}\n\n\n\nIf you believe this is an error, please reach out to us:\n\n  - ${Be("https://github.com/prismicio/slice-machine/issues/new/choose")}`,"\n\n\n\n\n\n                                                - The Prismic team"].join("")}</div>`;const Ge=(e,t=16)=>{let n=0,r=null;return function(...i){const s=Date.now(),a=s-n;a>=t?(e.apply(this,i),n=s):(r&&clearTimeout(r),r=setTimeout((()=>{e.apply(this,i),n=Date.now()}),t-a))}};"undefined"===typeof je&&(globalThis.process={env:{}});class Ke extends class{constructor(){this._listeners={}}on(e,t,n=null){var r;this._listeners[e]=[...null!=(r=this._listeners[e])?r:[],[t,n]]}off(e,t){var n;this._listeners[e]=(null!=(n=this._listeners[e])?n:[]).filter((([e,n])=>"function"===typeof t?e!==t:n!==t))}emit(e,t){var n;(null!=(n=this._listeners[e])?n:[]).forEach((e=>e[0](t)))}}{constructor(e=Ze(),t=[]){super(),this._setActiveSlice=()=>{if(0===this.slices.length)return void(this.activeSlice=null);const e=ze(this.slices.length);if(!e)return void(this.activeSlice=null);const t=((e,t)=>{const n=document.elementsFromPoint(t.x,t.y).reverse(),r=n.indexOf(e);if(-1===r)return null;return n[r+1]||null})(e,this._mouse);if(!t)return void(this.activeSlice=null);const n=Array.prototype.indexOf.call(e.children,t);this.activeSlice={rect:t.getBoundingClientRect(),sliceID:this.slices[n].slice_type,variationID:this.slices[n].variation,index:n}},this.setActiveSlice=Ge(this._setActiveSlice,16),this._setSliceZoneFromSliceIDsLastCall=null,this._managedState=e,this._slices=t,this._activeSlice=null,this._message="",this._mouse={x:0,y:0}}set managedState(e){this._managedState=e,this.emit(Ce.ManagedState,e)}get managedState(){return this._managedState}set slices(e){this._slices=e,this.message="",this.emit(Ce.Slices,e)}get slices(){return this._slices}set activeSlice(e){this._activeSlice=e,this.emit(Ce.ActiveSlice,e)}get activeSlice(){return this._activeSlice}set message(e){this._message=e,this.emit(Ce.Message,e)}get message(){return this._message}async init(e){this._managedState=await this.load(e),await this.forceSliceChunksDownload(),this.setDefaultSliceZone(),this.emit(Ce.ManagedState,this._managedState),window.addEventListener("mousemove",(e=>{this._mouse={x:e.clientX,y:e.clientY}}))}async load(e){try{const t=await("function"===typeof e?e():e),n=Ne.decode(t);if("Left"===n._tag)throw console.error(n.left),new Error("State does not validate expected format, see console logs for detailed report");return{data:n.right,status:Fe.Loaded,error:null}}catch(t){return console.error(t),{data:null,status:Fe.Error,error:t}}}async reload(e){this.managedState=await this.load(e),this.recoverSliceZone()}_throwIfNotLoaded(e){var t;if(this.managedState.status===Fe.Error)throw null!=(t=this.managedState.error)?t:new Error("Unknown state error, see console logs for detailed report");if(this.managedState.status===Fe.Pending||!this.managedState.data)throw new Error(`\`StateManager.${e}()\` can only be called when the state is loaded, use \`StateManager.load()\` first`)}getLibraries(){return this._throwIfNotLoaded("getLibraries"),Object.entries(this.managedState.data).map((([e,t])=>{const n=t.components;return{path:e,slices:Object.values(n).map((e=>({id:e.id,name:e.name||e.id,variations:e.model.variations.map((e=>({id:e.id,name:e.name||e.id})))})))}}))}getMocks(){return this._throwIfNotLoaded("getMocks"),Object.values(this.managedState.data).reduce(((e,t)=>{const n=t.components;return Object.values(n).forEach((t=>{e[t.id]=Object.values(t.mocks).reduce(((e,t)=>(e[t.variation]=t,e)),{})})),e}),{})}async forceSliceChunksDownload(){this.setSliceZoneFromSliceIDs(this.getLibraries().map((e=>e.slices.map((e=>({sliceID:e.id,variationID:e.variations[0].id}))))).flat()),await new Promise((e=>setTimeout(e,0))),this.slices=[]}setDefaultSliceZone(){if(this._throwIfNotLoaded("setDefaultSliceZone"),"undefined"!==typeof window){const e=new URL(window.location.href);e.searchParams.has("sid")&&e.searchParams.has("vid")&&this.setSliceZoneFromSliceIDs([{sliceID:e.searchParams.get("sid"),variationID:e.searchParams.get("vid")}])}}recoverSliceZone(){this._setSliceZoneFromSliceIDsLastCall&&this.setSliceZoneFromSliceIDs(this._setSliceZoneFromSliceIDsLastCall)}setSliceZone(e){this._setSliceZoneFromSliceIDsLastCall=null,this.slices=e}setSliceZoneFromSliceIDs(e){this._setSliceZoneFromSliceIDsLastCall=e;const t=this.getMocks();this.slices=e.map((e=>{const n=e.sliceID,r=e.variationID;if(n in t&&r in t[n])return t[n][r]})).filter(Boolean)}}const Ve=e=>{e.preventDefault(),e.stopPropagation()},Je=e=>{e.path&&e.path.slice(0,5).some((e=>e instanceof HTMLAnchorElement))&&(e.preventDefault(),e.stopPropagation())},Ye=new class{constructor(e=Ze(),t=[]){this.stateManager=new Ke(e,t),this._api=null,this._initialized=!1}async init(e){if(this._initialized)await this.stateManager.reload(e);else{this._initialized=!0,await this.stateManager.init(e);try{await this._initAPI()}catch(t){return t instanceof Error&&"Receiver is currently not embedded as an iframe"===t.message&&!this.stateManager.slices.length&&(this.stateManager.message=He),void console.error(t)}this._initListeners()}}async _initAPI(){this._api=new M({[I.GetLibraries]:(e,t)=>t.success(this.stateManager.getLibraries()),[I.SetSliceZone]:(e,t)=>(this.stateManager.setSliceZone(e.data),t.success()),[I.SetSliceZoneFromSliceIDs]:(e,t)=>(this.stateManager.setSliceZoneFromSliceIDs(e.data),t.success()),[I.ScrollToSlice]:(e,t)=>{var n;if(e.data.sliceIndex<0)return t.error("`sliceIndex` must be > 0",400);if(e.data.sliceIndex>=this.stateManager.slices.length)return t.error(`\`sliceIndex\` must be < ${this.stateManager.slices.length} (\`<SliceZone />\` current length)`,400);const r=ze(this.stateManager.slices.length);if(!r)return t.error("Failed to find `<SliceZone />`",500);this.stateManager.activeSlice=null;const i=r.children[e.data.sliceIndex];return i?(i.scrollIntoView({behavior:e.data.behavior,block:e.data.block,inline:e.data.inline}),(null==(n=this._api)?void 0:n.options.activeSliceAPI)&&setTimeout(this.stateManager.setActiveSlice,750),t.success()):t.error("Failed fo find slice at index $`{req.data.sliceIndex}` in `<SliceZone />`",500)}}),await this._api.ready()}_initListeners(){window.addEventListener("mousemove",(()=>{var e;(null==(e=this._api)?void 0:e.options.activeSliceAPI)&&this.stateManager.setActiveSlice()})),window.addEventListener("resize",(()=>{var e;(null==(e=this._api)?void 0:e.options.activeSliceAPI)&&this.stateManager.setActiveSlice()})),window.addEventListener("mousewheel",(()=>{var e;(null==(e=this._api)?void 0:e.options.activeSliceAPI)&&setTimeout(this.stateManager.setActiveSlice,200)})),this.stateManager.on(Ce.Slices,(()=>{var e;(null==(e=this._api)?void 0:e.options.activeSliceAPI)&&this.stateManager.setActiveSlice()})),this.stateManager.on(Ce.ActiveSlice,(async e=>{if(this._api)try{await this._api.setActiveSlice(e)}catch(t){if(!(t instanceof d&&400===t.response.status))throw t;console.error(t.response)}}))}},Xe=e=>{const t={state:{},zIndex:100,background:"#ffffff"},[n,i]=r.useState(Ze()),[s,a]=r.useState([]),[o,c]=r.useState("");r.useEffect((()=>(Ye.stateManager.on(Ce.ManagedState,(e=>{i(e)}),"simulator-managed-state"),Ye.stateManager.on(Ce.Slices,(e=>{a(e)}),"simulator-slices"),Ye.stateManager.on(Ce.Message,(e=>{c(e)}),"simulator-message"),Ye.init(e.state||t.state),()=>{Ye.stateManager.off(Ce.ManagedState,"simulator-managed-state"),Ye.stateManager.off(Ce.Slices,"simulator-slices"),Ye.stateManager.off(Ce.Message,"simulator-message")})),[]);const u=r.useRef(!1);return r.useEffect((()=>{u.current?Ye.stateManager.reload(e.state):u.current=!0}),[e.state]),r.createElement("div",{className:[$e,e.className].filter(Boolean).join(" "),style:{zIndex:"undefined"===typeof e.zIndex?t.zIndex:e.zIndex,position:"fixed",top:0,left:0,width:"100%",height:"100vh",overflow:"auto",background:"undefined"===typeof e.background?t.background:e.background}},o?r.createElement("article",{dangerouslySetInnerHTML:{__html:o}}):s.length?r.createElement("div",{id:"root",className:Ue,style:n.status!==Fe.Loaded?{display:"none"}:void 0,onClickCapture:Je,onSubmitCapture:Ve},e.sliceZone({slices:s})):null)}},855:function(e){e.exports=JSON.parse('{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I\'m a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}')}}]);